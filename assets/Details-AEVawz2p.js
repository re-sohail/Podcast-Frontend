import{r as c,b as D,f as P,j as e}from"./index-VkrfYMsM.js";import{r as b}from"./stars shapes-PWPk_e_a.js";import{G as f}from"./iconBase-DP3v34CQ.js";function C(t){return f({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"},child:[]}]})(t)}function M(t){return f({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m6 18 8.5-6L6 6v12zM16 6v12h2V6h-2z"},child:[]}]})(t)}function T(t){return f({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6 6h2v12H6zm3.5 6 8.5 6V6z"},child:[]}]})(t)}function A(t){return f({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M128 104.3v303.4c0 6.4 6.5 10.4 11.7 7.2l240.5-151.7c5.1-3.2 5.1-11.1 0-14.3L139.7 97.2c-5.2-3.3-11.7.7-11.7 7.1z"},child:[]}]})(t)}function k(t){let[r,l]=c.useState({}),o=async()=>{var n;try{let s=await D.get(`https://podcast-api-gh6v.onrender.com/get-podcast/${t}`);l((n=s==null?void 0:s.data)==null?void 0:n.data)}catch(s){console.log(s)}};return c.useEffect(()=>{o()},[t]),r}function L(){let t=c.useRef(null),[r,l]=c.useState(!1),[o,n]=c.useState(!1);const[s,i]=c.useState(0),[m,g]=c.useState(0),x=a=>{const h=Math.floor(a/60),y=Math.floor(a%60);return`${h}:${y<10?"0":""}${y}`},d=()=>{t.current&&i(t.current.currentTime)},u=()=>{t.current&&g(t.current.duration)};return c.useEffect(()=>{const a=t.current;if(a)return a.addEventListener("timeupdate",d),a.addEventListener("loadedmetadata",u),a.addEventListener("ended",()=>{l(!1),n(!0)}),()=>{a.removeEventListener("timeupdate",d),a.removeEventListener("loadedmetadata",u),a.removeEventListener("ended",()=>{l(!1),n(!0)})}},[]),{playPodcast:r,pausePodcast:o,currentTime:s,duration:m,formatTime:x,handleTimeUpdate:d,handleLoadedMetadata:u,playAudio:()=>{l(!0),setTimeout(()=>{t.current.play()},1e3),n(!1)},pauseAudio:()=>{t.current.pause(),n(!0)},closeAudio:()=>{t.current.pause(),t.current.currentTime=0,l(!1)},Backward:()=>{if(t.current){let a=Math.max(s-10,0);t.current.currentTime=a,i(a)}},Forward:()=>{if(t.current){let a=Math.min(s+10,m);t.current.currentTime=a,i(a)}},handleChange:a=>{if(t.current){const h=a.target.value/100*m;t.current.currentTime=h,i(h)}},audioRef:t}}function S(){var p;let{id:t}=P(),r=k(t),{playPodcast:l,pausePodcast:o,currentTime:n,duration:s,formatTime:i,handleTimeUpdate:m,handleLoadedMetadata:g,playAudio:x,pauseAudio:d,closeAudio:u,Backward:v,Forward:j,handleChange:w,audioRef:N}=L();return e.jsxs("div",{className:"x:hidden xs:block xs:px-4 sm:px-10 relative w-full xs:h-auto  bg-[#f7ede8] overflow-hidden xs:py-10",children:[e.jsxs("div",{className:"w-full flex items-center xs:gap-10 gap-20 xs:flex-col lg:flex-row",children:[e.jsx("div",{className:"xs:w-full lg:w-[30%] h-[400px] border bg-[#81ADC8] rounded-xl relative",children:e.jsx("img",{src:r.image,alt:"",className:"w-[100%] h-[100%] object-cover absolute -top-2 -left-2 rounded-xl"})}),e.jsxs("div",{className:"xs:w-full lg:w-[50%]",children:[e.jsx("div",{className:"border border-[#CD4631] w-[160px] flex items-center justify-center mb-5",children:e.jsx("h1",{className:"uppercase text-lg text-[#CD4631] font-medium",children:"Enjoy Podcast"})}),e.jsx("h1",{className:"text-3xl font-semibold cursor-pointer hover:text-[#CD4631]",children:r.title}),e.jsx("hr",{className:"my-5 w-full h-[3px] bg-black"}),e.jsx("p",{className:"text-[#4D4D4D]",children:r.description}),e.jsxs("div",{className:"py-8 flex items-center justify-between",children:[e.jsxs("h1",{className:"text-[#4D4D4D] font-normal",children:["Hosted by:"," ",e.jsx("span",{className:"text-[#CD4631] font-semibold",children:(p=r.user)==null?void 0:p.name})]}),e.jsx("h1",{className:"text-[#4D4D4D] font-medium",children:new Date(r.updatedAt).toLocaleDateString()})]}),e.jsxs("div",{className:"xs:flex-col-reverse sm:flex-row mt-5 flex items-center justify-start xs:gap-5 gap-20 ",children:[e.jsx("button",{onClick:l?u:x,className:"border select-none px-4 py-2 bg-black text-[#f5f5f5] rounded-md",children:l?"Close Podcast":"Play Podcast"}),l&&e.jsxs("div",{className:"w-[300px] flex items-center justify-center flex-col",children:[e.jsxs("div",{className:"flex items-center justify-center gap-10 text-3xl",children:[e.jsx(T,{onClick:v,className:"cursor-pointer"}),o?e.jsx(A,{onClick:x,className:"cursor-pointer"}):e.jsx(C,{onClick:d,className:"cursor-pointer"}),e.jsx(M,{onClick:j,className:"cursor-pointer"})]}),e.jsxs("div",{className:"w-full flex items-center justify-center flex-col",children:[e.jsx("input",{type:"range",min:"0",max:"100",value:n/s*100||0,onChange:w,className:"custom-slider"}),e.jsxs("div",{className:"w-[70%] mt-5 flex items-center text-[14px]",children:[e.jsx("span",{children:i(n)})," /"," ",e.jsx("span",{className:"text-[#5C5B5A]",children:i(s)})]})]})]})]})]})]}),e.jsx("audio",{ref:N,src:r.audio}),e.jsx("img",{src:b,alt:"Left Side Shape",className:"absolute select-none pointer-events-none xs:-right-28 sm:-right-20 md:-right-10 md:top-36 lg:right-0 top-20"})]})}function F(){return e.jsx(e.Fragment,{children:e.jsx(S,{})})}export{F as default};
